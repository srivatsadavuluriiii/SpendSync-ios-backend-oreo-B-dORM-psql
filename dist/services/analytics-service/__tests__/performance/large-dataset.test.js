"use strict";var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");var _from = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/array/from"));var _promise = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/promise"));var _map = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/map"));var _find = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/find"));var _fill = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/fill"));var _mongoose = _interopRequireDefault(require("mongoose"));
var _setup = require("../setup.js");






var _AnalyticsEvent = _interopRequireDefault(require("../../src/models/AnalyticsEvent.js"));
var _SpendingReport = _interopRequireDefault(require("../../src/models/SpendingReport.js"));

describe('Large Dataset Performance Tests', () => {
  beforeAll(async () => {
    await (0, _setup.setupTestDB)();
  });

  afterAll(async () => {
    await (0, _setup.teardownTestDB)();
  });

  beforeEach(async () => {
    await _AnalyticsEvent.default.deleteMany({});
    await _SpendingReport.default.deleteMany({});
  });

  describe('Data Ingestion Performance', () => {
    test('should handle bulk insertion within time threshold', async () => {
      const largeDataset = (0, _setup.generateTestExpenses)(10000);

      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        await _AnalyticsEvent.default.insertMany(largeDataset, { ordered: false });
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime);

      // Verify data integrity
      const count = await _AnalyticsEvent.default.countDocuments();
      expect(count).toBe(10000);
    });

    test('should maintain performance with concurrent insertions', async () => {
      const batchSize = 1000;
      const concurrentBatches = 5;
      const batches = (0, _from.default)({ length: concurrentBatches }, () =>
      (0, _setup.generateTestExpenses)(batchSize)
      );

      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        await _promise.default.all((0, _map.default)(batches).call(batches, (batch) =>
        _AnalyticsEvent.default.insertMany(batch, { ordered: false })
        ));
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime * 2);

      // Verify all data was inserted
      const count = await _AnalyticsEvent.default.countDocuments();
      expect(count).toBe(batchSize * concurrentBatches);
    });
  });

  describe('Query Performance', () => {
    beforeEach(async () => {
      // Insert large dataset for query testing
      const largeDataset = (0, _setup.generateTestExpenses)(10000);
      await _AnalyticsEvent.default.insertMany(largeDataset, { ordered: false });
    });

    test('should efficiently query and aggregate large datasets', async () => {
      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        const result = await _AnalyticsEvent.default.aggregate([
        {
          $group: {
            _id: {
              category: '$category',
              month: { $month: '$timestamp' }
            },
            totalAmount: { $sum: '$amount' },
            count: { $sum: 1 }
          }
        },
        { $sort: { totalAmount: -1 } }]
        );

        expect(result.length).toBeGreaterThan(0);
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime);
    });

    test('should maintain performance with complex queries', async () => {
      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        const result = await _AnalyticsEvent.default.aggregate([
        {
          $match: {
            timestamp: {
              $gte: new Date(new Date().getFullYear(), 0, 1),
              $lt: new Date()
            }
          }
        },
        {
          $group: {
            _id: {
              category: '$category',
              month: { $month: '$timestamp' },
              day: { $dayOfMonth: '$timestamp' }
            },
            dailyTotal: { $sum: '$amount' }
          }
        },
        {
          $group: {
            _id: {
              category: '$_id.category',
              month: '$_id.month'
            },
            avgDailySpending: { $avg: '$dailyTotal' },
            totalSpending: { $sum: '$dailyTotal' }
          }
        },
        { $sort: { '_id.month': 1, totalSpending: -1 } }]
        );

        expect(result.length).toBeGreaterThan(0);
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime * 2);
    });
  });

  describe('Memory Usage', () => {
    test('should efficiently process large datasets in batches', async () => {
      const totalRecords = 50000;
      const batchSize = 5000;
      const batches = Math.ceil(totalRecords / batchSize);

      const initialMemory = process.memoryUsage().heapUsed;

      for (let i = 0; i < batches; i++) {
        const batch = (0, _setup.generateTestExpenses)(batchSize);
        await _AnalyticsEvent.default.insertMany(batch, { ordered: false });

        // Check memory usage after each batch
        const currentMemory = process.memoryUsage().heapUsed;
        const memoryIncrease = currentMemory - initialMemory;

        expect(memoryIncrease).toBeLessThan(_setup.performanceThresholds.memoryUsage);
      }

      // Verify total records
      const count = await _AnalyticsEvent.default.countDocuments();
      expect(count).toBe(totalRecords);
    });

    test('should handle memory-intensive aggregations', async () => {
      // Insert test data
      const testData = (0, _setup.generateTestExpenses)(20000);
      await _AnalyticsEvent.default.insertMany(testData, { ordered: false });

      const initialMemory = process.memoryUsage().heapUsed;

      await _AnalyticsEvent.default.aggregate([
      {
        $group: {
          _id: {
            userId: '$userId',
            category: '$category',
            month: { $month: '$timestamp' }
          },
          transactions: { $push: '$$ROOT' }
        }
      },
      {
        $project: {
          userId: '$_id.userId',
          category: '$_id.category',
          month: '$_id.month',
          transactionCount: { $size: '$transactions' },
          totalAmount: { $sum: '$transactions.amount' },
          avgAmount: { $avg: '$transactions.amount' }
        }
      }]
      );

      const finalMemory = process.memoryUsage().heapUsed;
      const memoryIncrease = finalMemory - initialMemory;

      expect(memoryIncrease).toBeLessThan(_setup.performanceThresholds.memoryUsage);
    });
  });

  describe('Concurrent Operations', () => {
    beforeEach(async () => {
      // Insert base dataset
      const baseData = (0, _setup.generateTestExpenses)(5000);
      await _AnalyticsEvent.default.insertMany(baseData);
    });

    test('should handle concurrent read operations', async () => {
      const concurrentQueries = 10;
      const queries = (0, _from.default)({ length: concurrentQueries }, () => ({
        category: ['food', 'transport', 'entertainment'][Math.floor(Math.random() * 3)]
      }));

      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        await _promise.default.all((0, _map.default)(queries).call(queries, (query) =>
        (0, _find.default)(_AnalyticsEvent.default).call(_AnalyticsEvent.default, { category: query.category })
        ));
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime * 2);
    });

    test('should handle mixed read/write operations', async () => {var _context, _context2, _context3;
      const operations = [
      ...(0, _fill.default)(_context = Array(5)).call(_context, () => (0, _find.default)(_AnalyticsEvent.default).call(_AnalyticsEvent.default, { category: 'food' })),
      ...(0, _fill.default)(_context2 = Array(3)).call(_context2, () => _AnalyticsEvent.default.insertMany((0, _setup.generateTestExpenses)(100))),
      ...(0, _fill.default)(_context3 = Array(2)).call(_context3, () => _AnalyticsEvent.default.aggregate([
      { $group: { _id: '$category', total: { $sum: '$amount' } } }]
      ))];


      const executionTime = await (0, _setup.measureExecutionTime)(async () => {
        await _promise.default.all((0, _map.default)(operations).call(operations, (op) => op()));
      });

      expect(executionTime).toBeLessThan(_setup.performanceThresholds.queryTime * 3);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zZXR1cCIsIl9BbmFseXRpY3NFdmVudCIsIl9TcGVuZGluZ1JlcG9ydCIsImRlc2NyaWJlIiwiYmVmb3JlQWxsIiwic2V0dXBUZXN0REIiLCJhZnRlckFsbCIsInRlYXJkb3duVGVzdERCIiwiYmVmb3JlRWFjaCIsIkFuYWx5dGljc0V2ZW50IiwiZGVsZXRlTWFueSIsIlNwZW5kaW5nUmVwb3J0IiwidGVzdCIsImxhcmdlRGF0YXNldCIsImdlbmVyYXRlVGVzdEV4cGVuc2VzIiwiZXhlY3V0aW9uVGltZSIsIm1lYXN1cmVFeGVjdXRpb25UaW1lIiwiaW5zZXJ0TWFueSIsIm9yZGVyZWQiLCJleHBlY3QiLCJ0b0JlTGVzc1RoYW4iLCJwZXJmb3JtYW5jZVRocmVzaG9sZHMiLCJxdWVyeVRpbWUiLCJjb3VudCIsImNvdW50RG9jdW1lbnRzIiwidG9CZSIsImJhdGNoU2l6ZSIsImNvbmN1cnJlbnRCYXRjaGVzIiwiYmF0Y2hlcyIsIl9mcm9tIiwiZGVmYXVsdCIsImxlbmd0aCIsIl9wcm9taXNlIiwiYWxsIiwiX21hcCIsImNhbGwiLCJiYXRjaCIsInJlc3VsdCIsImFnZ3JlZ2F0ZSIsIiRncm91cCIsIl9pZCIsImNhdGVnb3J5IiwibW9udGgiLCIkbW9udGgiLCJ0b3RhbEFtb3VudCIsIiRzdW0iLCIkc29ydCIsInRvQmVHcmVhdGVyVGhhbiIsIiRtYXRjaCIsInRpbWVzdGFtcCIsIiRndGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCIkbHQiLCJkYXkiLCIkZGF5T2ZNb250aCIsImRhaWx5VG90YWwiLCJhdmdEYWlseVNwZW5kaW5nIiwiJGF2ZyIsInRvdGFsU3BlbmRpbmciLCJ0b3RhbFJlY29yZHMiLCJNYXRoIiwiY2VpbCIsImluaXRpYWxNZW1vcnkiLCJwcm9jZXNzIiwibWVtb3J5VXNhZ2UiLCJoZWFwVXNlZCIsImkiLCJjdXJyZW50TWVtb3J5IiwibWVtb3J5SW5jcmVhc2UiLCJ0ZXN0RGF0YSIsInVzZXJJZCIsInRyYW5zYWN0aW9ucyIsIiRwdXNoIiwiJHByb2plY3QiLCJ0cmFuc2FjdGlvbkNvdW50IiwiJHNpemUiLCJhdmdBbW91bnQiLCJmaW5hbE1lbW9yeSIsImJhc2VEYXRhIiwiY29uY3VycmVudFF1ZXJpZXMiLCJxdWVyaWVzIiwiZmxvb3IiLCJyYW5kb20iLCJxdWVyeSIsIl9maW5kIiwiX2NvbnRleHQiLCJfY29udGV4dDIiLCJfY29udGV4dDMiLCJvcGVyYXRpb25zIiwiX2ZpbGwiLCJBcnJheSIsInRvdGFsIiwib3AiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvc2VydmljZXMvYW5hbHl0aWNzLXNlcnZpY2UvX190ZXN0c19fL3BlcmZvcm1hbmNlL2xhcmdlLWRhdGFzZXQudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgXG4gIHNldHVwVGVzdERCLCBcbiAgdGVhcmRvd25UZXN0REIsIFxuICBnZW5lcmF0ZVRlc3RFeHBlbnNlcywgXG4gIG1lYXN1cmVFeGVjdXRpb25UaW1lLFxuICBwZXJmb3JtYW5jZVRocmVzaG9sZHMgXG59IGZyb20gJy4uL3NldHVwLmpzJztcbmltcG9ydCBBbmFseXRpY3NFdmVudCBmcm9tICcuLi8uLi9zcmMvbW9kZWxzL0FuYWx5dGljc0V2ZW50LmpzJztcbmltcG9ydCBTcGVuZGluZ1JlcG9ydCBmcm9tICcuLi8uLi9zcmMvbW9kZWxzL1NwZW5kaW5nUmVwb3J0LmpzJztcblxuZGVzY3JpYmUoJ0xhcmdlIERhdGFzZXQgUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc2V0dXBUZXN0REIoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHRlYXJkb3duVGVzdERCKCk7XG4gIH0pO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IEFuYWx5dGljc0V2ZW50LmRlbGV0ZU1hbnkoe30pO1xuICAgIGF3YWl0IFNwZW5kaW5nUmVwb3J0LmRlbGV0ZU1hbnkoe30pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YSBJbmdlc3Rpb24gUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBidWxrIGluc2VydGlvbiB3aXRoaW4gdGltZSB0aHJlc2hvbGQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSBnZW5lcmF0ZVRlc3RFeHBlbnNlcygxMDAwMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlRXhlY3V0aW9uVGltZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IEFuYWx5dGljc0V2ZW50Lmluc2VydE1hbnkobGFyZ2VEYXRhc2V0LCB7IG9yZGVyZWQ6IGZhbHNlIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4ocGVyZm9ybWFuY2VUaHJlc2hvbGRzLnF1ZXJ5VGltZSk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBkYXRhIGludGVncml0eVxuICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBBbmFseXRpY3NFdmVudC5jb3VudERvY3VtZW50cygpO1xuICAgICAgZXhwZWN0KGNvdW50KS50b0JlKDEwMDAwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBwZXJmb3JtYW5jZSB3aXRoIGNvbmN1cnJlbnQgaW5zZXJ0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwMDA7XG4gICAgICBjb25zdCBjb25jdXJyZW50QmF0Y2hlcyA9IDU7XG4gICAgICBjb25zdCBiYXRjaGVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29uY3VycmVudEJhdGNoZXMgfSwgKCkgPT4gXG4gICAgICAgIGdlbmVyYXRlVGVzdEV4cGVuc2VzKGJhdGNoU2l6ZSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlRXhlY3V0aW9uVGltZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGJhdGNoZXMubWFwKGJhdGNoID0+IFxuICAgICAgICAgIEFuYWx5dGljc0V2ZW50Lmluc2VydE1hbnkoYmF0Y2gsIHsgb3JkZXJlZDogZmFsc2UgfSlcbiAgICAgICAgKSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbihwZXJmb3JtYW5jZVRocmVzaG9sZHMucXVlcnlUaW1lICogMik7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBhbGwgZGF0YSB3YXMgaW5zZXJ0ZWRcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgQW5hbHl0aWNzRXZlbnQuY291bnREb2N1bWVudHMoKTtcbiAgICAgIGV4cGVjdChjb3VudCkudG9CZShiYXRjaFNpemUgKiBjb25jdXJyZW50QmF0Y2hlcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdRdWVyeSBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEluc2VydCBsYXJnZSBkYXRhc2V0IGZvciBxdWVyeSB0ZXN0aW5nXG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSBnZW5lcmF0ZVRlc3RFeHBlbnNlcygxMDAwMCk7XG4gICAgICBhd2FpdCBBbmFseXRpY3NFdmVudC5pbnNlcnRNYW55KGxhcmdlRGF0YXNldCwgeyBvcmRlcmVkOiBmYWxzZSB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBlZmZpY2llbnRseSBxdWVyeSBhbmQgYWdncmVnYXRlIGxhcmdlIGRhdGFzZXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IGF3YWl0IG1lYXN1cmVFeGVjdXRpb25UaW1lKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQW5hbHl0aWNzRXZlbnQuYWdncmVnYXRlKFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICckY2F0ZWdvcnknLFxuICAgICAgICAgICAgICAgIG1vbnRoOiB7ICRtb250aDogJyR0aW1lc3RhbXAnIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdG90YWxBbW91bnQ6IHsgJHN1bTogJyRhbW91bnQnIH0sXG4gICAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyAkc29ydDogeyB0b3RhbEFtb3VudDogLTEgfSB9XG4gICAgICAgIF0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbihwZXJmb3JtYW5jZVRocmVzaG9sZHMucXVlcnlUaW1lKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBwZXJmb3JtYW5jZSB3aXRoIGNvbXBsZXggcXVlcmllcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlRXhlY3V0aW9uVGltZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFuYWx5dGljc0V2ZW50LmFnZ3JlZ2F0ZShbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgICAgIHRpbWVzdGFtcDoge1xuICAgICAgICAgICAgICAgICRndGU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgMCwgMSksXG4gICAgICAgICAgICAgICAgJGx0OiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJyRjYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgbW9udGg6IHsgJG1vbnRoOiAnJHRpbWVzdGFtcCcgfSxcbiAgICAgICAgICAgICAgICBkYXk6IHsgJGRheU9mTW9udGg6ICckdGltZXN0YW1wJyB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRhaWx5VG90YWw6IHsgJHN1bTogJyRhbW91bnQnIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJyRfaWQuY2F0ZWdvcnknLFxuICAgICAgICAgICAgICAgIG1vbnRoOiAnJF9pZC5tb250aCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYXZnRGFpbHlTcGVuZGluZzogeyAkYXZnOiAnJGRhaWx5VG90YWwnIH0sXG4gICAgICAgICAgICAgIHRvdGFsU3BlbmRpbmc6IHsgJHN1bTogJyRkYWlseVRvdGFsJyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7ICRzb3J0OiB7ICdfaWQubW9udGgnOiAxLCB0b3RhbFNwZW5kaW5nOiAtMSB9IH1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoZXhlY3V0aW9uVGltZSkudG9CZUxlc3NUaGFuKHBlcmZvcm1hbmNlVGhyZXNob2xkcy5xdWVyeVRpbWUgKiAyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBVc2FnZScsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZWZmaWNpZW50bHkgcHJvY2VzcyBsYXJnZSBkYXRhc2V0cyBpbiBiYXRjaGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdG90YWxSZWNvcmRzID0gNTAwMDA7XG4gICAgICBjb25zdCBiYXRjaFNpemUgPSA1MDAwO1xuICAgICAgY29uc3QgYmF0Y2hlcyA9IE1hdGguY2VpbCh0b3RhbFJlY29yZHMgLyBiYXRjaFNpemUpO1xuICAgICAgXG4gICAgICBjb25zdCBpbml0aWFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGdlbmVyYXRlVGVzdEV4cGVuc2VzKGJhdGNoU2l6ZSk7XG4gICAgICAgIGF3YWl0IEFuYWx5dGljc0V2ZW50Lmluc2VydE1hbnkoYmF0Y2gsIHsgb3JkZXJlZDogZmFsc2UgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBtZW1vcnkgdXNhZ2UgYWZ0ZXIgZWFjaCBiYXRjaFxuICAgICAgICBjb25zdCBjdXJyZW50TWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuICAgICAgICBjb25zdCBtZW1vcnlJbmNyZWFzZSA9IGN1cnJlbnRNZW1vcnkgLSBpbml0aWFsTWVtb3J5O1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KG1lbW9yeUluY3JlYXNlKS50b0JlTGVzc1RoYW4ocGVyZm9ybWFuY2VUaHJlc2hvbGRzLm1lbW9yeVVzYWdlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IHRvdGFsIHJlY29yZHNcbiAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgQW5hbHl0aWNzRXZlbnQuY291bnREb2N1bWVudHMoKTtcbiAgICAgIGV4cGVjdChjb3VudCkudG9CZSh0b3RhbFJlY29yZHMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtZW1vcnktaW50ZW5zaXZlIGFnZ3JlZ2F0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEluc2VydCB0ZXN0IGRhdGFcbiAgICAgIGNvbnN0IHRlc3REYXRhID0gZ2VuZXJhdGVUZXN0RXhwZW5zZXMoMjAwMDApO1xuICAgICAgYXdhaXQgQW5hbHl0aWNzRXZlbnQuaW5zZXJ0TWFueSh0ZXN0RGF0YSwgeyBvcmRlcmVkOiBmYWxzZSB9KTtcblxuICAgICAgY29uc3QgaW5pdGlhbE1lbW9yeSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZDtcblxuICAgICAgYXdhaXQgQW5hbHl0aWNzRXZlbnQuYWdncmVnYXRlKFtcbiAgICAgICAge1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgIHVzZXJJZDogJyR1c2VySWQnLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogJyRjYXRlZ29yeScsXG4gICAgICAgICAgICAgIG1vbnRoOiB7ICRtb250aDogJyR0aW1lc3RhbXAnIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2FjdGlvbnM6IHsgJHB1c2g6ICckJFJPT1QnIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgICAgdXNlcklkOiAnJF9pZC51c2VySWQnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICckX2lkLmNhdGVnb3J5JyxcbiAgICAgICAgICAgIG1vbnRoOiAnJF9pZC5tb250aCcsXG4gICAgICAgICAgICB0cmFuc2FjdGlvbkNvdW50OiB7ICRzaXplOiAnJHRyYW5zYWN0aW9ucycgfSxcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiB7ICRzdW06ICckdHJhbnNhY3Rpb25zLmFtb3VudCcgfSxcbiAgICAgICAgICAgIGF2Z0Ftb3VudDogeyAkYXZnOiAnJHRyYW5zYWN0aW9ucy5hbW91bnQnIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCBmaW5hbE1lbW9yeSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZDtcbiAgICAgIGNvbnN0IG1lbW9yeUluY3JlYXNlID0gZmluYWxNZW1vcnkgLSBpbml0aWFsTWVtb3J5O1xuICAgICAgXG4gICAgICBleHBlY3QobWVtb3J5SW5jcmVhc2UpLnRvQmVMZXNzVGhhbihwZXJmb3JtYW5jZVRocmVzaG9sZHMubWVtb3J5VXNhZ2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uY3VycmVudCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gSW5zZXJ0IGJhc2UgZGF0YXNldFxuICAgICAgY29uc3QgYmFzZURhdGEgPSBnZW5lcmF0ZVRlc3RFeHBlbnNlcyg1MDAwKTtcbiAgICAgIGF3YWl0IEFuYWx5dGljc0V2ZW50Lmluc2VydE1hbnkoYmFzZURhdGEpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHJlYWQgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmN1cnJlbnRRdWVyaWVzID0gMTA7XG4gICAgICBjb25zdCBxdWVyaWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29uY3VycmVudFF1ZXJpZXMgfSwgKCkgPT4gKHtcbiAgICAgICAgY2F0ZWdvcnk6IFsnZm9vZCcsICd0cmFuc3BvcnQnLCAnZW50ZXJ0YWlubWVudCddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpXVxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBleGVjdXRpb25UaW1lID0gYXdhaXQgbWVhc3VyZUV4ZWN1dGlvblRpbWUoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChxdWVyaWVzLm1hcChxdWVyeSA9PiBcbiAgICAgICAgICBBbmFseXRpY3NFdmVudC5maW5kKHsgY2F0ZWdvcnk6IHF1ZXJ5LmNhdGVnb3J5IH0pXG4gICAgICAgICkpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4ocGVyZm9ybWFuY2VUaHJlc2hvbGRzLnF1ZXJ5VGltZSAqIDIpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtaXhlZCByZWFkL3dyaXRlIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICAuLi5BcnJheSg1KS5maWxsKCgpID0+IEFuYWx5dGljc0V2ZW50LmZpbmQoeyBjYXRlZ29yeTogJ2Zvb2QnIH0pKSxcbiAgICAgICAgLi4uQXJyYXkoMykuZmlsbCgoKSA9PiBBbmFseXRpY3NFdmVudC5pbnNlcnRNYW55KGdlbmVyYXRlVGVzdEV4cGVuc2VzKDEwMCkpKSxcbiAgICAgICAgLi4uQXJyYXkoMikuZmlsbCgoKSA9PiBBbmFseXRpY3NFdmVudC5hZ2dyZWdhdGUoW1xuICAgICAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRjYXRlZ29yeScsIHRvdGFsOiB7ICRzdW06ICckYW1vdW50JyB9IH0gfVxuICAgICAgICBdKSlcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBhd2FpdCBtZWFzdXJlRXhlY3V0aW9uVGltZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG9wZXJhdGlvbnMubWFwKG9wID0+IG9wKCkpKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoZXhlY3V0aW9uVGltZSkudG9CZUxlc3NUaGFuKHBlcmZvcm1hbmNlVGhyZXNob2xkcy5xdWVyeVRpbWUgKiAzKTtcbiAgICB9KTtcbiAgfSk7XG59KTsgIl0sIm1hcHBpbmdzIjoiaWxCQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMs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