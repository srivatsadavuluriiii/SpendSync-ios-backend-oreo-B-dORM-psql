"use strict"; /**
 * Integration tests for API Gateway
 */

const request = require('supertest');
const nock = require('nock');
const app = require('../../index');

// Mock the auth middleware
jest.mock('../../middleware/auth.middleware', () => ({
  authenticate: jest.fn((req, res, next) => {
    req.user = { id: 'test-user-id', roles: ['user'] };
    next();
  })
}));

describe('API Gateway Integration Tests', () => {
  beforeAll(() => {
    // Set up nock to intercept HTTP requests to services
    // User Service
    nock('http://localhost:3001').
    persist().
    get('/').
    reply(200, {
      success: true,
      data: {
        service: 'userService',
        users: [
        { id: 'user1', username: 'testuser1', email: 'test1@example.com' },
        { id: 'user2', username: 'testuser2', email: 'test2@example.com' }]

      }
    });

    // Expense Service
    nock('http://localhost:3002').
    persist().
    get('/').
    reply(200, {
      success: true,
      data: {
        service: 'expenseService',
        expenses: [
        {
          id: 'expense1',
          description: 'Dinner',
          amount: 100,
          currency: 'USD',
          payerId: 'user1',
          participantIds: ['user1', 'user2'],
          createdAt: new Date().toISOString()
        }]

      }
    });

    // Settlement Service
    nock('http://localhost:3003').
    persist().
    get('/').
    reply(200, {
      success: true,
      data: {
        service: 'settlementService',
        settlements: [
        {
          id: 'settlement1',
          payerId: 'user1',
          receiverId: 'user2',
          amount: 50,
          currency: 'USD',
          status: 'pending',
          groupId: 'group1',
          createdAt: new Date().toISOString()
        }]

      }
    }).
    get('/calculation/group1').
    reply(200, {
      success: true,
      data: {
        service: 'settlementService',
        algorithm: 'minCashFlow',
        breakdown: {
          inputDebts: [],
          userBalances: {},
          calculationSteps: []
        },
        explanation: {
          summary: 'Test summary',
          algorithmExplanation: 'Test explanation',
          stepByStepExplanation: ['Step 1'],
          transactionSummary: ['User1 pays 50 USD to User2']
        },
        settlements: [],
        stats: {
          originalTransactionCount: 3,
          optimizedTransactionCount: 2,
          reductionPercentage: 33
        }
      }
    });

    // Notification Service
    nock('http://localhost:3004').
    persist().
    get('/').
    reply(200, {
      success: true,
      data: {
        service: 'notificationService',
        notifications: [
        {
          id: 'notification1',
          type: 'settlement',
          message: 'Settlement completed',
          read: false,
          createdAt: new Date().toISOString()
        }]

      }
    });
  });

  afterAll(() => {
    nock.cleanAll();
  });

  describe('Health Check', () => {
    test('should return 200 OK and UP status', async () => {
      const response = await request(app).
      get('/health').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('status', 'UP');
      expect(response.body).toHaveProperty('timestamp');
    });
  });

  describe('UI Routes', () => {
    test('should return HTML for homepage', async () => {
      const response = await request(app).
      get('/').
      expect('Content-Type', /html/).
      expect(200);

      expect(response.text).toContain('SpendSync API Gateway');
      expect(response.text).toContain('The following services are available');
    });

    test('should return HTML for users dashboard', async () => {
      const response = await request(app).
      get('/users-ui').
      expect('Content-Type', /html/).
      expect(200);

      expect(response.text).toContain('Users Dashboard');
    });

    test('should return HTML for settlements dashboard', async () => {
      const response = await request(app).
      get('/settlements-ui').
      expect('Content-Type', /html/).
      expect(200);

      expect(response.text).toContain('Settlements Dashboard');
      expect(response.text).toContain('View Calculation Details');
    });
  });

  describe('API Routes', () => {
    test('should proxy requests to the User Service', async () => {
      const response = await request(app).
      get('/api/v1/users').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('success', true);
      expect(response.body.data).toHaveProperty('users');
      expect(response.body.data.users).toHaveLength(2);
    });

    test('should proxy requests to the Expense Service', async () => {
      const response = await request(app).
      get('/api/v1/expenses').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('success', true);
      expect(response.body.data).toHaveProperty('expenses');
      expect(response.body.data.expenses).toHaveLength(1);
      expect(response.body.data.expenses[0]).toHaveProperty('description', 'Dinner');
    });

    test('should proxy requests to the Settlement Service', async () => {
      const response = await request(app).
      get('/api/v1/settlements').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('success', true);
      expect(response.body.data).toHaveProperty('settlements');
      expect(response.body.data.settlements).toHaveLength(1);
    });

    test('should proxy requests to the Settlement Calculation endpoint', async () => {
      const response = await request(app).
      get('/api/v1/settlements/calculation/group1').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('success', true);
      expect(response.body.data).toHaveProperty('algorithm');
      expect(response.body.data).toHaveProperty('breakdown');
      expect(response.body.data).toHaveProperty('explanation');
      expect(response.body.data).toHaveProperty('stats');
    });

    test('should proxy requests to the Notification Service', async () => {
      const response = await request(app).
      get('/api/v1/notifications').
      expect('Content-Type', /json/).
      expect(200);

      expect(response.body).toHaveProperty('success', true);
      expect(response.body.data).toHaveProperty('notifications');
      expect(response.body.data.notifications).toHaveLength(1);
      expect(response.body.data.notifications[0]).toHaveProperty('type', 'settlement');
    });
  });

  describe('Error Handling', () => {
    test('should return 404 for non-existent route', async () => {
      const response = await request(app).
      get('/non-existent-route').
      expect('Content-Type', /json/).
      expect(404);

      expect(response.body).toHaveProperty('error');
      expect(response.body.error).toHaveProperty('message');
      expect(response.body.error).toHaveProperty('status', 404);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIm5vY2siLCJhcHAiLCJqZXN0IiwibW9jayIsImF1dGhlbnRpY2F0ZSIsImZuIiwicmVxIiwicmVzIiwibmV4dCIsInVzZXIiLCJpZCIsInJvbGVzIiwiZGVzY3JpYmUiLCJiZWZvcmVBbGwiLCJwZXJzaXN0IiwiZ2V0IiwicmVwbHkiLCJzdWNjZXNzIiwiZGF0YSIsInNlcnZpY2UiLCJ1c2VycyIsInVzZXJuYW1lIiwiZW1haWwiLCJleHBlbnNlcyIsImRlc2NyaXB0aW9uIiwiYW1vdW50IiwiY3VycmVuY3kiLCJwYXllcklkIiwicGFydGljaXBhbnRJZHMiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzZXR0bGVtZW50cyIsInJlY2VpdmVySWQiLCJzdGF0dXMiLCJncm91cElkIiwiYWxnb3JpdGhtIiwiYnJlYWtkb3duIiwiaW5wdXREZWJ0cyIsInVzZXJCYWxhbmNlcyIsImNhbGN1bGF0aW9uU3RlcHMiLCJleHBsYW5hdGlvbiIsInN1bW1hcnkiLCJhbGdvcml0aG1FeHBsYW5hdGlvbiIsInN0ZXBCeVN0ZXBFeHBsYW5hdGlvbiIsInRyYW5zYWN0aW9uU3VtbWFyeSIsInN0YXRzIiwib3JpZ2luYWxUcmFuc2FjdGlvbkNvdW50Iiwib3B0aW1pemVkVHJhbnNhY3Rpb25Db3VudCIsInJlZHVjdGlvblBlcmNlbnRhZ2UiLCJub3RpZmljYXRpb25zIiwidHlwZSIsIm1lc3NhZ2UiLCJyZWFkIiwiYWZ0ZXJBbGwiLCJjbGVhbkFsbCIsInRlc3QiLCJyZXNwb25zZSIsImV4cGVjdCIsImJvZHkiLCJ0b0hhdmVQcm9wZXJ0eSIsInRleHQiLCJ0b0NvbnRhaW4iLCJ0b0hhdmVMZW5ndGgiLCJlcnJvciJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcGktZ2F0ZXdheS9fX3Rlc3RzX18vaW50ZWdyYXRpb24vYXBpLWdhdGV3YXkudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVncmF0aW9uIHRlc3RzIGZvciBBUEkgR2F0ZXdheVxuICovXG5cbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKTtcbmNvbnN0IG5vY2sgPSByZXF1aXJlKCdub2NrJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9pbmRleCcpO1xuXG4vLyBNb2NrIHRoZSBhdXRoIG1pZGRsZXdhcmVcbmplc3QubW9jaygnLi4vLi4vbWlkZGxld2FyZS9hdXRoLm1pZGRsZXdhcmUnLCAoKSA9PiAoe1xuICBhdXRoZW50aWNhdGU6IGplc3QuZm4oKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVxLnVzZXIgPSB7IGlkOiAndGVzdC11c2VyLWlkJywgcm9sZXM6IFsndXNlciddIH07XG4gICAgbmV4dCgpO1xuICB9KVxufSkpO1xuXG5kZXNjcmliZSgnQVBJIEdhdGV3YXkgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgLy8gU2V0IHVwIG5vY2sgdG8gaW50ZXJjZXB0IEhUVFAgcmVxdWVzdHMgdG8gc2VydmljZXNcbiAgICAvLyBVc2VyIFNlcnZpY2VcbiAgICBub2NrKCdodHRwOi8vbG9jYWxob3N0OjMwMDEnKVxuICAgICAgLnBlcnNpc3QoKVxuICAgICAgLmdldCgnLycpXG4gICAgICAucmVwbHkoMjAwLCB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZXJ2aWNlOiAndXNlclNlcnZpY2UnLFxuICAgICAgICAgIHVzZXJzOiBbXG4gICAgICAgICAgICB7IGlkOiAndXNlcjEnLCB1c2VybmFtZTogJ3Rlc3R1c2VyMScsIGVtYWlsOiAndGVzdDFAZXhhbXBsZS5jb20nIH0sXG4gICAgICAgICAgICB7IGlkOiAndXNlcjInLCB1c2VybmFtZTogJ3Rlc3R1c2VyMicsIGVtYWlsOiAndGVzdDJAZXhhbXBsZS5jb20nIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIEV4cGVuc2UgU2VydmljZVxuICAgIG5vY2soJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMicpXG4gICAgICAucGVyc2lzdCgpXG4gICAgICAuZ2V0KCcvJylcbiAgICAgIC5yZXBseSgyMDAsIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlcnZpY2U6ICdleHBlbnNlU2VydmljZScsXG4gICAgICAgICAgZXhwZW5zZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdleHBlbnNlMScsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGlubmVyJyxcbiAgICAgICAgICAgICAgYW1vdW50OiAxMDAsXG4gICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICAgICAgcGF5ZXJJZDogJ3VzZXIxJyxcbiAgICAgICAgICAgICAgcGFydGljaXBhbnRJZHM6IFsndXNlcjEnLCAndXNlcjInXSxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFNldHRsZW1lbnQgU2VydmljZVxuICAgIG5vY2soJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMycpXG4gICAgICAucGVyc2lzdCgpXG4gICAgICAuZ2V0KCcvJylcbiAgICAgIC5yZXBseSgyMDAsIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlcnZpY2U6ICdzZXR0bGVtZW50U2VydmljZScsXG4gICAgICAgICAgc2V0dGxlbWVudHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdzZXR0bGVtZW50MScsXG4gICAgICAgICAgICAgIHBheWVySWQ6ICd1c2VyMScsXG4gICAgICAgICAgICAgIHJlY2VpdmVySWQ6ICd1c2VyMicsXG4gICAgICAgICAgICAgIGFtb3VudDogNTAsXG4gICAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICAgIGdyb3VwSWQ6ICdncm91cDEnLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5nZXQoJy9jYWxjdWxhdGlvbi9ncm91cDEnKVxuICAgICAgLnJlcGx5KDIwMCwge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2VydmljZTogJ3NldHRsZW1lbnRTZXJ2aWNlJyxcbiAgICAgICAgICBhbGdvcml0aG06ICdtaW5DYXNoRmxvdycsXG4gICAgICAgICAgYnJlYWtkb3duOiB7XG4gICAgICAgICAgICBpbnB1dERlYnRzOiBbXSxcbiAgICAgICAgICAgIHVzZXJCYWxhbmNlczoge30sXG4gICAgICAgICAgICBjYWxjdWxhdGlvblN0ZXBzOiBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwbGFuYXRpb246IHtcbiAgICAgICAgICAgIHN1bW1hcnk6ICdUZXN0IHN1bW1hcnknLFxuICAgICAgICAgICAgYWxnb3JpdGhtRXhwbGFuYXRpb246ICdUZXN0IGV4cGxhbmF0aW9uJyxcbiAgICAgICAgICAgIHN0ZXBCeVN0ZXBFeHBsYW5hdGlvbjogWydTdGVwIDEnXSxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3VtbWFyeTogWydVc2VyMSBwYXlzIDUwIFVTRCB0byBVc2VyMiddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXR0bGVtZW50czogW10sXG4gICAgICAgICAgc3RhdHM6IHtcbiAgICAgICAgICAgIG9yaWdpbmFsVHJhbnNhY3Rpb25Db3VudDogMyxcbiAgICAgICAgICAgIG9wdGltaXplZFRyYW5zYWN0aW9uQ291bnQ6IDIsXG4gICAgICAgICAgICByZWR1Y3Rpb25QZXJjZW50YWdlOiAzM1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgXG4gICAgLy8gTm90aWZpY2F0aW9uIFNlcnZpY2VcbiAgICBub2NrKCdodHRwOi8vbG9jYWxob3N0OjMwMDQnKVxuICAgICAgLnBlcnNpc3QoKVxuICAgICAgLmdldCgnLycpXG4gICAgICAucmVwbHkoMjAwLCB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZXJ2aWNlOiAnbm90aWZpY2F0aW9uU2VydmljZScsXG4gICAgICAgICAgbm90aWZpY2F0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ25vdGlmaWNhdGlvbjEnLFxuICAgICAgICAgICAgICB0eXBlOiAnc2V0dGxlbWVudCcsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdTZXR0bGVtZW50IGNvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIHJlYWQ6IGZhbHNlLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0pO1xuICBcbiAgYWZ0ZXJBbGwoKCkgPT4ge1xuICAgIG5vY2suY2xlYW5BbGwoKTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnSGVhbHRoIENoZWNrJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gMjAwIE9LIGFuZCBVUCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvaGVhbHRoJylcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnc3RhdHVzJywgJ1VQJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ3RpbWVzdGFtcCcpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdVSSBSb3V0ZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHJldHVybiBIVE1MIGZvciBob21lcGFnZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy8nKVxuICAgICAgICAuZXhwZWN0KCdDb250ZW50LVR5cGUnLCAvaHRtbC8pXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnRleHQpLnRvQ29udGFpbignU3BlbmRTeW5jIEFQSSBHYXRld2F5Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UudGV4dCkudG9Db250YWluKCdUaGUgZm9sbG93aW5nIHNlcnZpY2VzIGFyZSBhdmFpbGFibGUnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIEhUTUwgZm9yIHVzZXJzIGRhc2hib2FyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy91c2Vycy11aScpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9odG1sLylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UudGV4dCkudG9Db250YWluKCdVc2VycyBEYXNoYm9hcmQnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIEhUTUwgZm9yIHNldHRsZW1lbnRzIGRhc2hib2FyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9zZXR0bGVtZW50cy11aScpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9odG1sLylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UudGV4dCkudG9Db250YWluKCdTZXR0bGVtZW50cyBEYXNoYm9hcmQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS50ZXh0KS50b0NvbnRhaW4oJ1ZpZXcgQ2FsY3VsYXRpb24gRGV0YWlscycpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdBUEkgUm91dGVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBwcm94eSByZXF1ZXN0cyB0byB0aGUgVXNlciBTZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS91c2VycycpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ3N1Y2Nlc3MnLCB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCd1c2VycycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS51c2VycykudG9IYXZlTGVuZ3RoKDIpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcm94eSByZXF1ZXN0cyB0byB0aGUgRXhwZW5zZSBTZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9leHBlbnNlcycpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ3N1Y2Nlc3MnLCB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdleHBlbnNlcycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5leHBlbnNlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5leHBlbnNlc1swXSkudG9IYXZlUHJvcGVydHkoJ2Rlc2NyaXB0aW9uJywgJ0Rpbm5lcicpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcm94eSByZXF1ZXN0cyB0byB0aGUgU2V0dGxlbWVudCBTZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9zZXR0bGVtZW50cycpXG4gICAgICAgIC5leHBlY3QoJ0NvbnRlbnQtVHlwZScsIC9qc29uLylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ3N1Y2Nlc3MnLCB0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdzZXR0bGVtZW50cycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zZXR0bGVtZW50cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3Nob3VsZCBwcm94eSByZXF1ZXN0cyB0byB0aGUgU2V0dGxlbWVudCBDYWxjdWxhdGlvbiBlbmRwb2ludCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvc2V0dGxlbWVudHMvY2FsY3VsYXRpb24vZ3JvdXAxJylcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnc3VjY2VzcycsIHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2FsZ29yaXRobScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2JyZWFrZG93bicpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2V4cGxhbmF0aW9uJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnc3RhdHMnKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzaG91bGQgcHJveHkgcmVxdWVzdHMgdG8gdGhlIE5vdGlmaWNhdGlvbiBTZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9ub3RpZmljYXRpb25zJylcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnc3VjY2VzcycsIHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YSkudG9IYXZlUHJvcGVydHkoJ25vdGlmaWNhdGlvbnMnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEubm90aWZpY2F0aW9ucykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5ub3RpZmljYXRpb25zWzBdKS50b0hhdmVQcm9wZXJ0eSgndHlwZScsICdzZXR0bGVtZW50Jyk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciBub24tZXhpc3RlbnQgcm91dGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvbm9uLWV4aXN0ZW50LXJvdXRlJylcbiAgICAgICAgLmV4cGVjdCgnQ29udGVudC1UeXBlJywgL2pzb24vKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmVycm9yKS50b0hhdmVQcm9wZXJ0eSgnbWVzc2FnZScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZXJyb3IpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnLCA0MDQpO1xuICAgIH0pO1xuICB9KTtcbn0pOyAiXSwibWFwcGluZ3MiOiJjQUFBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGFBQWEsQ0FBQzs7QUFFbEM7QUFDQUcsSUFBSSxDQUFDQyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsT0FBTztFQUNuREMsWUFBWSxFQUFFRixJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ3hDRixHQUFHLENBQUNHLElBQUksR0FBRyxFQUFFQyxFQUFFLEVBQUUsY0FBYyxFQUFFQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxD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